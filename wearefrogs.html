<!DOCTYPE html>
<html>
    <head>
    <style>
        #container {
            display: grid;
            grid-template-columns: repeat(10,1fr);
        }
        img {
            opacity: 0;
            animation: fadein-anim 1s linear forwards;

        }
        @keyframes fadein-anim {
            100% {
                opacity: 1;
            }
        }
    </style>
  </head>
  <body>
    <div id="container">
    </div>
    <script type="module">

        const timer = 10000    // ミリ秒で間隔の時間を指定
        window.addEventListener('load',function(){
            setInterval('location.reload()',timer);
        });

        const fetchImage = async (i) => {

            await new Promise(resolve => {
                setTimeout(resolve, 5000);
            })

            const apiUrl = `https://api.hiro.so/ordinals/v1/inscriptions/${i}`
            const res = await fetch(apiUrl);
            const content = await res.json();
            const id = content.id
            const imageUrl = `https://api.hiro.so/ordinals/v1/inscriptions/${id}/content`

            return imageUrl
        }

        const parentDiv = document.getElementById("container");
        console.log(parentDiv);
        const upper2digitsList = ['38', '39', '40', '41'];
        let counts = [2, 23, 521, 125];
        const frogs = "122488933599362436415507-55165537-55435742-58345836-58375839-58635865-58995901-59445946-59755977-60146016-60300665-06700735-074707720775-07860788-08120814-08350906-09080910-09580960-10501052-10841086-10871089-11131168-12051207-12361238-12911294-13671369-13881390-14721474-15261528-16311633-16351637-16621664-16961698-17031705-17061708-17501752-17551981-20162018-20472049-20512053-20542057-21742176-21902192-22082210-22192221-22572259-22692271-23552357-24002402-24302432-24452447-24802482-25092511-27392741-27502752-27592761-28992907-29122914-29302932-29952997-30283030-30363038-30573059-31473149-31643166-31873189-31903192-32083210-32603262-32813283-32843286-33013303-33273329-33493351-33663368-34143416-34223424-34413468-35263528-35543556-35733575-36373639-36593661-36793681-37523754-37563758-37963807-38633865-39953997-40004002-40264028-40914093-41224124-41384140-41994201-42784280-43514354-43664368-44094411-44194421-44264429-44954497-45064516-452045224524-46504652-46964698-47204722-48284830-48864888-49014903-49244926-50285030-50405042-50605062-51395141-51485160-51815183-519351965198-52455247-52575259-52615263-52655267-53095311-53585360-53625364-53905392-53955397-54325434-54505452-54695471-54785480-54965498-54995501-55305532-55995601-56335635-56395680-57195798-581458165818-58345836-59035905-59165918-59875989-60456047-60646066-61026104-61606162-61886191-61926194-62116213-62346236-62376239-62916293-62946296-63196321-63406342-63476385-64056407-65286530-65356537-655065526554-65856587-66056607-66096611-66166661-66726674-67426744-677067726774-67756777-67796781-68336835-68596861-68846886-69106912-69156917-69326934-69376939-69506952-69646966-69866988-70107012-70297031-70337035-70657067-70817103-71127114-71187120-71277129-71967198-72217223-72607262-72677269-73037305-73277329-73337335-74057407-74157417-742574277430-74427444-74717473-75247526-75407542-75447547-75487550-76147616-76367638-76617663-76667668-76717673-76867724-77447746-77647766-78247826-79927994-80158017-80668068-81118113-81158117-81268128-81798181-81998201-82028204-82198221-82508252-83098332-83468348-83768378-84048406-84858487-85318533-855485568558-85858587-86238625-86418643-86458647-86638665-87138715-87228724-87388740-87488750-88438845-88548856-89048906-89559017-90689070-91129114-91389140-91929194-93009449-94699471-94739475-94959497-94999501-95039505-954595479591-96069608-96149616-97319733-97829784-98069808-98699871-99119913-99209922-99599961-99789980-999299949996-00020004-00140016-00250027-00450048-00490051-010201040106-01590161-01740176-02660268-02980300-0303061907210864-08900892-09001024-10701072-11071109-11551157-12251227-12311233-12811283-13641366-13771379-14211423-14251427-14341436-14421444-14471449-14921495-15011503-15171519-15201522-15381540-15431545-15811583-16491651-16531657-16601662-16661668-17331735-17661768-17801782-18111813-18211823-18321834-18351837-19561958-19671969-19701972-20672069-21222124-21332135-21662168-21872189-22042206-22322234-22872289-22912293-23082310-23122314-23492351-23702372-23892389"
        const frogs_inscriptions = []
        let u2dl_index = 0
        let inscriptionFrom = 999999
        let j = 0;
        frogs.split('-').forEach(chunk => {
            chunk.match(/.{4}/g).forEach((part, index) => {
                const inscriptionNumber = Number(upper2digitsList[u2dl_index] + part)
                if (index === 0) {
                    for (let i = inscriptionFrom + 1; i < inscriptionNumber; i++) {
                        frogs_inscriptions.push(i)
                    }
                }
                frogs_inscriptions.push(inscriptionNumber);
                counts[u2dl_index]--;
                if (counts[u2dl_index] === 0) {
                    u2dl_index++;
                }
                inscriptionFrom = inscriptionNumber;
            })

        })

        let count = 50
        let selected_frogs = []
        for (let i = 0; i < count; i++) {
            selected_frogs.push(frogs_inscriptions[Math.floor(Math.random() * frogs_inscriptions.length)])
        }

        selected_frogs.forEach(async (i, index) => {
               const img = await fetchImage(i)
                const newElement = document.createElement("img");
                newElement.setAttribute('src',img)
                newElement.setAttribute('width',100)
                newElement.setAttribute('height',100)
                parentDiv.appendChild(newElement);
        })

     </script>
     </body>
</html>